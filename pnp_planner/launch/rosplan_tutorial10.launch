<?xml version="1.0"?>
<launch>

	<!-- arguments -->
	<arg name="domain_path"	default="$(find pnp_planner)/rosplan_domain.pddl" />
	<arg name="problem_path"	default="$(find pnp_planner)/rosplan_problem.pddl" />

	<!-- ROSPlan -->
	<include file="$(find rosplan_planning_system)/launch/interfaced_planning_system.launch" >
		<arg name="use_problem_topic"    	value="false" />
		<arg name="domain_path"          	value="$(arg domain_path)" />
		<!--<arg name="problem_path"         	value="$(find pnp_planner)/pddl/problem.pddl" /> -->
		<arg name="problem_path"         	value="$(arg problem_path)" /> 
		<arg name="autom_gen_problem_path"  value="$(find pnp_planner)/pddl/problem.pddl" />
		<arg name="data_path"           	value="$(find pnp_planner)/pddl/" />
		<!--<arg name="planner_interface"    	value="metricff_planner_interface" />
		<arg name="planner_command"      	value="timeout 10 $(find rosplan_planning_system)/common/bin/Metric-FF -o DOMAIN -f PROBLEM -s 4 -w 1" /> -->
		<arg name="planner_interface" 		value="popf_planner_interface" />
		<arg name="planner_command"      	value="timeout 10 $(find rosplan_planning_system)/common/bin/popf DOMAIN PROBLEM" /> 
	</include>

	<!-- sim actions -->
	<include file="$(find rosplan_planning_system)/launch/includes/simulated_action.launch" >
		<arg name="pddl_action_name" value="rotate" />
    </include>
	<include file="$(find rosplan_planning_system)/launch/includes/simulated_action.launch" >
		<arg name="pddl_action_name" value="lift" />
	</include>
	<include file="$(find rosplan_planning_system)/launch/includes/simulated_action.launch" >
		<arg name="pddl_action_name" value="placevert" />
	</include>

    <!-- grasp action interface -->
	<node name="rosplan_interface_grasp" pkg="rosplan_planning_system" type="tutorialInterface" respawn="false" output="screen">
		<param name="knowledge_base"		value="rosplan_knowledge_base" />
		<param name="pddl_action_name"		value="grasp" />
		<param name="action_dispatch_topic" value="/rosplan_plan_dispatcher/action_dispatch" />
		<param name="action_feedback_topic" value="/rosplan_plan_dispatcher/action_feedback" />
	</node>

	<node name="rosplan_interface_drag" pkg="rosplan_planning_system" type="tutorialInterface" respawn="false" output="screen">
		<param name="knowledge_base"		value="rosplan_knowledge_base" />
		<param name="pddl_action_name"		value="drag" />
		<param name="action_dispatch_topic" value="/rosplan_plan_dispatcher/action_dispatch" />
		<param name="action_feedback_topic" value="/rosplan_plan_dispatcher/action_feedback" />
	</node>

</launch>